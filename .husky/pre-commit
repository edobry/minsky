#!/usr/bin/env sh

# TypeScript-based pre-commit hook
# 
# This replaces the complex bash logic with a clean TypeScript implementation
# that leverages Minsky's own infrastructure for configuration and error handling.

echo "🚀 Running TypeScript-based pre-commit validation..."

# Execute the TypeScript pre-commit hook
if ! bun run src/hooks/pre-commit.ts; then
  echo ""
  echo "❌ ❌ ❌ PRE-COMMIT VALIDATION FAILED! ❌ ❌ ❌"
  echo ""
  echo "🚫 One or more validation steps failed. Please review the output above."
  echo "💡 The TypeScript implementation provides better error messages and debugging."
  echo ""
  exit 1
fi

echo ""
echo "✅ ✅ ✅ ALL VALIDATIONS PASSED! ✅ ✅ ✅"
echo ""
echo "🎉 TypeScript pre-commit hook completed successfully!"
echo "📦 Your changes are ready to be committed."
