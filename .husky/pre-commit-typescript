#!/usr/bin/env sh

# TypeScript-based pre-commit hook
# 
# This replaces the complex bash logic with a clean TypeScript implementation
# that leverages Minsky's own infrastructure for configuration and error handling.

echo "ğŸš€ Running TypeScript-based pre-commit validation..."

# Execute the TypeScript pre-commit hook
if ! bun run src/hooks/pre-commit.ts; then
  echo ""
  echo "âŒ âŒ âŒ PRE-COMMIT VALIDATION FAILED! âŒ âŒ âŒ"
  echo ""
  echo "ğŸš« One or more validation steps failed. Please review the output above."
  echo "ğŸ’¡ The TypeScript implementation provides better error messages and debugging."
  echo ""
  exit 1
fi

echo ""
echo "âœ… âœ… âœ… ALL VALIDATIONS PASSED! âœ… âœ… âœ…"
echo ""
echo "ğŸ‰ TypeScript pre-commit hook completed successfully!"
echo "ğŸ“¦ Your changes are ready to be committed."
